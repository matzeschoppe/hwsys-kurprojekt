% deckblatt.tex, 2019/03/15 
\documentclass[a4paper,12pt]{article}  
%Inhaltsverzeichnis in Kapitel und Sektionen aufgeteilt  \chapter{title} > \section{title} > subsection{title} \subsubsection{title}
% Pakete und Paket-Configs
\usepackage{times} % Times Roman als Standardschrift
\usepackage[ngerman]{babel} % neue deutsche Rechtschreibung und Trennung
\usepackage{fancyhdr} % spezielle Kopfzeilen
\usepackage[latin1]{inputenc} % Umlaute äöü auch normal benutzen und nicht maskieren
\usepackage[babel, german=quotes]{csquotes}
\usepackage{subfigure} % Figures divided into subfigures.
\usepackage{ifthen} % ErmÃ¶glicht ifthenelse und whiledo
\usepackage{amsfonts} % Extra mathematical symbols
\usepackage[rflt]{floatflt} % verbessertes floatfig, als um figure's fliesende texte
\usepackage[T1]{fontenc} % ?? aber notwendig fÃ¼r korrekte PDF-Metadaten
%\usepackage{longtable} % Support for tables longer than a page.
%\usepackage{a4wide} % Increases width of printed area of an a4 page.
%\usepackage{alltt} % verbatim environment except that \ and braces have their usual meanings.
\usepackage{listings} % Typeset source code listings using LaTeX.
\usepackage{moreverb} % bessere verbatim-umgebungen
\usepackage{graphicx}
\usepackage{pdfpages}
\usepackage{caption}
\usepackage{amsmath}
\usepackage{xcolor} % Farben Definierbar \definecolor{fhorange}{RGB}{255,153,0}
\usepackage[backend=biber, natbib=true, style=numeric,sorting=none]{biblatex} % Für das Erstellen eines Literaturverzeichnisses
\addbibresource{literatur.bib}  % für das erstellen des Literaturverzeichnisses empfielt sich die Software Mendeley, diese ermöglicht einfaches hinzufügen Büchern und das exportieren in eine .bib Datei 
\usepackage{acronym}
\usepackage[pdfpagelabels=true]{hyperref}
\usepackage{float}
\usepackage{array}
\usepackage{notoccite}

\pagestyle{headings} % Kopf- und Fusszeilen
\pagenumbering{Roman} % Nummerierung der Seiten
\newcommand{\maximagewidth}{15cm} % maximal mögliche Bildbreite

\setlength{\parindent}{0cm} % Einrückung am Abstzanfang
\setlength{\parskip}{5pt plus 2pt minus 1pt} % Abstand der Absätze zueinander
\frenchspacing % Kein Zusatzzwischenraum nach Satzzeichen

\setcounter{secnumdepth}{3} % Zählung bis paragraph 1.1.1
\setcounter{tocdepth}{3} % Inhaltsverzeichnis bis paragraph 1.1.1

%\makeglossary % Schreibe ein Glossar-File

\title{Titel der Arbeit}
\author{Name des Authors}
\date{\today}
\definecolor{fhorange}{RGB}{255,153,0}
\begin{document}
	
	\begin{titlepage}
		\thispagestyle{empty}
		\begin{center}
			\begin{minipage}{15cm}
				\begin{flushright}
					\includegraphics[width=4cm]{fhlogo.png} \hspace{1.5cm} \\
					\textbf{\large Hochschule \hspace{3.5cm} ~ \\ Augsburg } \large University of \hspace{1cm} ~ \\ Applied Sciences \hspace{0.2cm} ~
					\\~
				\end{flushright}
				
				\begin{flushleft}
					\textbf{\large \textcolor{fhorange}{Hardwaresysteme\\Kürprojekt}} \hspace{8.35cm} \textcolor{fhorange}{\large Fakultät für}
					\vspace{0.1cm}
					\\~  \hspace{10.75cm} \textcolor{fhorange}{\large Informatik} 
				\end{flushleft}
				
				%\vspace{1cm}
				\begin{flushleft}
					{ \large Studienrichtung \\ 
						%	\vspace{0.2cm}
						M.Sc. Informatik
					}
					\vspace{0.1cm}
				\end{flushleft}
				\begin{flushleft}
					{
						\textcolor{fhorange}{\large \textbf{Mathias Schoppe \\
								Entwicklung eines integrierten Schaltkreises - Konzeptionierung und Umsetzung}}
					}
					\vspace{0.2cm}
				\end{flushleft}
				\begin{flushleft}
					{ \large Betreuer: Prof. Dr.-Ing. Gundolf Kiefer \\ 
						\vspace{0.1cm}
						Abgabe der Arbeit am: 09.07.2023 			
					}
				\end{flushleft}
				\begin{flushleft}
					%In Kooperation mit Firma: \\ Hsa-Digit \\ Betreuer: Hans Mustermann \\ 
					%\vspace{0.5cm}
					%\includegraphics[width=3cm]{hsa_digit.png} \hspace{5cm} 
					\tiny{\textcolor{gray}{
							\hspace{11.3cm} Hochschule für angewandte \\
							\hspace{11.3cm} Wissenschaften Augsburg \\
							\hspace{11.3cm} University of Applied Sciences \\ ~ \\
							\hspace{11.3cm} An der Hochschule 1 \\
							\hspace{11.3cm} D-86161 Augsburg \\ ~ \\
							\hspace{11.3cm} Telefon +49 821 55 86-0 \\
							\hspace{11.3cm} Fax +49 821 55 86-3222 \\
							\hspace{11.3cm} www.hs-augsburg.de \\
							\hspace{11.3cm} info@hs-augsburg.de \\} ~ \\
						\hspace{11.3cm} Fakultät für Informatik \\
						\hspace{11.3cm} Telefon +49 821 5586-3450 \\
						\hspace{11.3cm} Fax ~~~ +49 821 5586-3499 \\ ~ \\
						\hspace{11.3cm} Verfasser der Ausarbeitung: \\
						\hspace{11.3cm} Mathias Schoppe \\
						\hspace{11.3cm} Matr. Nr.: 000000 \\
						\hspace{11.3cm} M. Sc. Informatik \\
						\hspace{11.3cm} Teamkollegen: Sascha Testname \\
						\hspace{11.3cm} und Timo Winklbauer \\
						
					}
				\end{flushleft}
			\end{minipage}
		\end{center}
	\end{titlepage}
	
	
	% Zusammenfassung
	\thispagestyle{empty}
	\tableofcontents  
	% Wenn das Inhaltsverzeichnis aktualisiert werden muss 2 mal kompilieren, erst dann wird die Aktualisierung angezeigt
	\newpage
	\pagenumbering{arabic}
	\section{Einleitung}
	\label{sec:einleitung}
	\subsection{Motivation}
	In dieser Ausarbeitung liegt der Fokus auf der Entwicklung eines eigenen \acp{IC} mithilfe des Tiny-Tapeout-Projekts\cite{TT}. Der Prozess des \ac{IC}-Designs ist äußerst komplex und erfordert spezialisierte Kenntnisse sowie teure Ausrüstung und Ressourcen. Das Tiny-Tapeout-Projekt hat es geschafft, ein besonderes Konzept zu entwickeln, das es selbst Anfängern ermöglicht, ihre eigenen \ac{IC}-Designs zu realisieren. Es bietet eine kostengünstige Möglichkeit, ein eigenen \ac{IC} fertigen zu lassen und eröffnet somit neue Möglichkeiten für kreative Ideen und individuelle Schaltungen. Dieser Teil der Ausarbeitung behandelt Aspekte, welche für ein solches Vorhaben zu beachten sind und bezieht sich dabei auf die konkrete Umsetzung eines Reaktionsspiels als \ac{IC}.
	\subsection{Zielsetzung}
	Das Ziel der Arbeit besteht darin, ein eigenes \ac{IC}-Design für ein Reaktionsspiel zu entwerfen und zu simulieren. Hierbei wird darauf geachtet, dass maximal 500 Logikgatter und ausschließlich die Ein- und Ausgänge des Tiny-Tapeout Evaluationsboards für die Umsetzung benötigt werden. Durch die Realisierung dieses Projekts sollen grundlegende Kenntnisse im IC-Design erlangt und praktische Erfahrungen in der Entwicklung von elektronischen Schaltungen gesammelt werden.
	\subsection{Struktur der Arbeit}
	Die Struktur, Kapitel und die jeweiligen Unterpunkte sind im Inhaltsverzeichnis
	übersichtlich dargestellt. Dieser Abschnitt fasst kurz zusammen, was in den fünf
	Hauptpunkten beschrieben wird:
	\begin{itemize}
		\item[\ref{sec:einleitung}]
		\textbf{Einleitung}\\
		Die Einleitung verschafft einen Überblick über das zu behandelnde Thema und stellt die Motivation für die Verfassung der Arbeit dar.
		\item[\ref{sec:theorie}]
		\textbf{Grundlagen}\\
		Das Kapitel Grundlagen legt die verwendeten Theorien und Konzepte dar, welche für die Umsetzung des Projektes unabdingbar sind.
		\item[\ref{sec:icdesign}]
		\textbf{Schaltkreis Entwurf}\\
		\item[\ref{sec:eval}]
		\textbf{Bewertung}\\
		\item[\ref{sec:summary}]
		\textbf{Zusammenfassung und Zukunftsausblick}\\
		
		
	\end{itemize}
	\pagebreak
	\section{Grundlagen}
	\label{sec:theorie}
	Das nachfolgende Kapitel befasst sich mit grundlegenden Themen, welche für die Umsetzung der Arbeit unabdingbar sind. Die Themenbereiche werden zusammengefasst und so erläutert, dass auch Lesende ohne Vorerfahrung im Bereich der Hardwareentwicklung alle Aspekte der Arbeit nachvollziehen können. Es wird ausschließlich auf Grundlagen, welche relevant für die konkrete Umsetzung des Projekts sind, eingegangen. 
	\subsection{Linear rückgekoppeltes Schieberegister}
	Ein \acl{LFSR} (engl. linear feedback shift register (\acs{LFSR})) ist eine Schaltung, die aus einer Reihe von Flip-Flops (digitale Speicherelemente) besteht, die in einer Kette miteinander verbunden sind. Die Rückkopplung erfolgt, indem das Ausgangssignal eines Flip-Flops mit dem Eingang eines vorherigen Flip-Flops verbunden wird. Dadurch bildet sich ein geschlossener Rückkopplungs-Pfad.\cite{fox2008linear}\\
	Die Anzahl der Flip-Flops in einem Schieberegister bestimmt die Anzahl der Speicherplätze oder Zustände, die es halten kann. Ein 4-Bit-Schieberegister kann beispielsweise 16 verschiedene Zustände einnehmen, während ein 8-Bit-Schieberegister 256 verschiedene Zustände einnehmen kann. 
	
	\vspace{1em}
	\begin{minipage}{\linewidth}
		\centering
		\includegraphics[width=1\linewidth]{pics/lfsr.pdf}
		\captionof{figure}[lfsr]{Abbildung eines Fibonacci-LFSR, angelehnt an \cite{fox2008linear}}
		\label{fig:lfsr}
	\end{minipage}
	\vspace{1em}
	
	In Abbildung \ref{fig:lfsr} ist ein 8-Bit Fibonacci-\acs{LFSR} dargestellt. 
	Dabei repräsentiert CLK den Takteingang und Y den Ausgang des \acs{LFSR}. Bei jedem Taktimpuls wird der gespeicherte Wert der Flip-Flops eine Stelle weiter geschoben. Bei jedem Taktimpuls wird das Rückkopplungs-Bit in das erste Flip-Flop des Schieberegisters eingespeist, alle anderen Bits werden zum nächsten Flip-Flop geschoben. Dies bedeutet, dass das Ausgangssignal des ersten Flip-Flops als Eingangssignal des zweiten Flip-Flops dient, das Ausgangssignal des zweiten Flip-Flops als Eingangssignal des dritten Flip-Flops und so weiter.\\
	\pagebreak
	
	Das Fibonacci-\acs{LFSR} zeichnet sich durch das in Gleichung \ref{eq:fiblfsr} dargestellte primitive Generatorpolynom aus. Dies ermöglicht dem Schieberegister die Generierung von Pseudozufallszahlen.
	
	\begin{equation}
		pf(x) = x^8 + x^6 + x^5 + x^4 + 1
		\label{eq:fiblfsr}
	\end{equation} 
	
	
	\subsection{Hardware Timer}
	Der Hardware Timer ist eine Schaltungskomponente, die verwendet wird, um Zeit zu messen oder Zeit basierte Ereignisse zu erzeugen. Er besteht aus einem internen Zähler, der bei jedem Taktimpuls inkrementiert oder dekrementiert wird und so die Grundlage für die Zeiterfassung bildet. Der Hardware Timer wird durch Steuersignale gesteuert, welche das starten, stoppen und zurücksetzen ermöglichen. Diese Steuersignale können entweder von einer externen Steuerung oder durch interne Logik generiert werden.\\
	Damit durch den Hardware Timer eine bestimmte Zeit in Sekunden überbrückt wird, betrachten wir folgende Zusammenhänge. Die Taktfrequenz f gibt an, wie viele Taktzyklen pro Sekunde auftreten. Um eine bestimmte Zeit t in Sekunden zu warten, muss die Anzahl der Takte berechnet werden, die während dieser Zeit vergehen. Dazu wird in Gleichung \ref{eq:clkCount} die Zeit t mit der Taktfrequenz f multipliziert.
	
	\begin{equation}
		\label{eq:clkCount}
		\text{Anzahl der Takte} = t * f
	\end{equation}
	
	Es ist wichtig zu beachten, dass diese Berechnung auf der idealisierten Annahme basiert, dass die Taktfrequenz und der Takt stabil und präzise sind. In der Praxis können jedoch Ungenauigkeiten auftreten, die die Zeitmessung beeinflussen. 
	\pagebreak
	% Nicht Konzept und umsetzung, sondern Register-Transfer-Ebene, Gatter-Ebene, Verdrahtung+Platzierung
	%Implementierung + Validierung
	\section{Schaltkreis Entwurf} %
	\label{sec:icdesign}
	In diesem Kapitel wird der \acs{IC} Entwurf unseres Reaktionsspiels entstehen. Der übliche Designprozess\cite{timoICDesign} für \acs{IC}s wird in Schritten abgearbeitet. Durch die Implementierung und Simulation des Designs werden wir die Funktionalität des Reaktionsspiels überprüfen und abschließend ein Layout erstellen, das für die Fertigung des \ac{IC}s im Rahmen des Tiny-Tapeout-Projekts verwendet werden kann.
	\subsection{Das Reaktionsspiel}
	Um den Schaltkreis genau definieren zu können, muss vorab die exakte Funktionsweise des Reaktionsspiels definiert werden. Das Spiel wird ausgelegt für zwei Spieler. Jeder Spieler hat zwei Knöpfe als Eingabemöglichkeit und es gibt einen zusätzlichen Startknopf. Die insgesamt fünf Knöpfe werden als Eingangssignale in den von uns entwickelten \acs{IC} übermittelt. Als Interface für die Kommunikation mit dem Benutzer wird die auf dem Evaluationsboard von Tiny-Tapeout verbaute 7-Segment-Anzeige verwendet.\cite{timoEvalboard} Dadurch ergibt sich das in Abbildung \ref{fig:gameDesign} dargestellte Design für das Reaktionsspiel.
	
	\vspace{1em}
	\begin{minipage}{\linewidth}
		\centering
		\includegraphics[width=1\linewidth]{pics/gameDesign.png}
		\captionof{figure}[gameDesign]{Design des Reaktionsspiels}
		\label{fig:gameDesign}
	\end{minipage}
	\vspace{1em}
	
	Die Leuchtdioden der 7-Segment-Anzeige werden für die Visualisierung drei verschiedener Zustände verwendet, wie in \ref{tab:7SegStates} dargestellt.
	
	
	\vspace{1em}
	\begin{table}[H]
		\scriptsize
		\centering
		\begin{tabular}{ | l | m{30em} | }
			\hline
			\textbf{Zustand} & \textbf{Beschreibung} \\
			\hline
			Blinken & Wenn ein Spiel gestartet wird, blinken alle Segmente der Anzeige innerhalb von drei Sekunden drei mal auf\\
			\hline
			Zufälliges Aufleuchten & Nachdem eine pseudo zufällige Wartezeit verstrichen ist, leuchtet entweder das linke (bzw. obere) oder rechte (bzw. untere) Segment auf.\\
			\hline
			Gewinner Anzeigen & Je nachdem, ob ein Spieler zu früh, den richtigen Knopf oder den falschen Knopf drückt wird der Sieger ermittelt. Gewinnt Spieler 1, dann leuchtet die linke (bzw. obere) Hälfte der 7-Segment-Anzeige auf. Gewinnt Spieler 2, dann leuchtet die rechte (bzw. untere) Hälfte der 7-Segment-Anzeige auf.\\
			\hline
		\end{tabular}
		\caption{Erklärung der Zustände der 7-Segment-Anzeige}
		\label{tab:7SegStates}
		\normalsize	
	\end{table}

	Anhand der in Tabelle \ref{tab:7SegStates} definierten Zustände, lässt sich der Spielablauf für unser Reaktionsspiel ableiten. Das Spiel durchläuft die folgenden Schritte:
	
	\begin{enumerate}
		\item Warten bis der Start-Knopf betätigt wird
		\item Sobald das Spiel Startet, blinkt die 7-Segment-Anzeige drei mal auf
		\item Wenn das blinken beendet ist, warte eine (pseudo-)zufällige Zeit
		\item Nach Ablauf der Zufallszeit, leuchtet das linke oder rechte Segment auf
		\item Warte auf Knopfdruck der Spieler
		\item Sieger wird ermittelt und die entsprechenden Segmente in der 7-Segment-Anzeige leuchten auf
	\end{enumerate}
	
	\subsection{Register-Transfer-Ebene} %Hardwarebeschreibungssprache, Zustandsdiagramm und Vhdl code
	Nachdem die grundlegenden Funktionen des \acs{IC}s im vorherigen Kapitel definiert wurden, kann der Entwurf auf Register-Transfer-Ebene beginnen. Der Prozess des Entwurfs durchläuft mehrere Schritte. Zuerst wird der Algorithmus anhand einer einfachen Beschreibungssprache definiert. Danach werden die Zustände des Algorithmus in einem Zustandsübergangsdiagramm modelliert, sodass die Überführung in eine Hardwarebeschreibungssprache (hier \ac{VHDL}) im nächsten Schritt vereinfacht wird. Zuletzt wird das Programm synthetisiert und simuliert. Auf den Entwurf des Algorithmus wird in dieser Stelle nicht tiefer eingegangen, da die Funktionsweise des Schaltkreises in den Schritten des Zustandsübergangsdiagramms und der Überführung in \ac{VHDL} klar wird.
	
	\subsubsection{Zufallsgenerierung}
%	todo: erklärung zufallszeit und zufällige led
	
	\subsubsection{Zustandsübergrangdiagramm}
	In Abbildung \ref{fig:stateDiagram} ist das aus dem Algorithmus überführte Zustandsübergangsdiagramm dargestellt. Das Diagramm modelliert die folgenden Zustände:
	
	\begin{itemize}
		\item \textbf{State\textunderscore Reset:} In diesem Startzustand wird auf das drücken des Start-Knopfs gewartet. Sobald dieser gedrückt wurde, wird der Zustand verlassen
		\item \textbf{State\textunderscore blink3Times:} Der Zustand fasst den Ablauf des dreifachen aufblinken der Segmentanzeige zusammen. Ist das Blinken beendet, wird die zufällige Wartezeit initialisiert
		\item \textbf{State\textunderscore waitRndInit:} Setzt den Zähler des Timers auf einen zufälligen Wert, sodass nach Formel \ref{eq:clkCount} eine Zeit zwischen 0.5-5 Sekunden gewartet wird
		\item \textbf{State\textunderscore waitRnd:} Dekrementiert den Zähler bei jedem Clock-Zyklus. Währenddessen wird geprüft, ob ein Spieler einen seiner Knöpfe zu früh betätigt. Falls ja, wird direkt der Gewinner angezeigt. Sonst leuchtet nach Ablauf der Zeit entweder das linke oder rechte Segment auf 
		\item \textbf{State\textunderscore setRightLED:} 
	\end{itemize}
	
	\vspace{1em}
	\begin{minipage}{\linewidth}
		\centering
		\includegraphics[width=1\linewidth]{pics/state_transition_diagram_vert.png}
		\captionof{figure}[stateDiagram]{Zustandsübergangsdiagramm des \ac{IC}s}
		\label{fig:stateDiagram}
	\end{minipage}
	\vspace{1em}
	
	\subsubsection{Simulation}
	
	
	\subsection{Gatter-Ebene, Verdrahtung und Platzierung}
	\subsection{Simulation}
	
	\section{Bewertung}
	\label{sec:eval}
	\subsection{Zieleinhaltung}
	\subsection{Interpretation der Ergebnisse}
	
	\section{Zusammenfassung und Ausblick}
	\label{sec:summary}
	
	
	% ----------------------------------------------------------------------------------------------------------
	% Abkürzungsverzeichnis
	% ----------------------------------------------------------------------------------------------------------
	\section{Abkürzungsverzeichnis}
	\rhead{Abkürzungsverzeichnis}
	\vspace{1em}
	\begin{acronym}[KDE]
		\acro{IC}[IC]{integrierter Schaltkreis}
		\acrodefplural{IC}[IC]{integrierten Schaltkreises}
		\acro{LFSR}[LFSR]{linear rückgekoppeltes Schieberegister}
		\acro{VHDL}[VHDL]{\textbf{V}ery High Speed Integrated Circuits \textbf{H}ardware \textbf{D}escription \textbf{L}anguage}
	\end{acronym}
	\pagebreak
	
		% ----------------------------------------------------------------------------------------------------------
	% Literatur
	% ----------------------------------------------------------------------------------------------------------
	%	\renewcommand\refname{Referenzen}
	%	\lhead{}
	%	\bibliographystyle{ieeetr}
	%	\bibliography{referenzen}
	%	\pagebreak
	
	\section{Literaturverzeichnis}
	\printbibliography
%	\rhead{Literaturverzeichnis}
%	\bibliographystyle{alpha}
%%	\bibliographystyle{ieeetr}
%	\renewcommand\refname{}
%	\bibliography{literatur}
	\pagebreak
	
	
	
\end{document}
